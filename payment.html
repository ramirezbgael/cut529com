<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get CUT529 - Premium Download</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="payment-styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>
</head>

<body>
    <nav>
        <div class="nav-container">
            <div class="logo-nav">
                <h3 class="knife">‚∫à</h3>
                <span class="nav-brand">CUT529</span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Back to Home</a></li>
            </ul>
        </div>
    </nav>

    <main class="payment-main">
        <div class="payment-container">
            <!-- Left side - Product info -->
            <div class="download-info">
                <div class="download-header">
                    <i class="fas fa-download download-icon"></i>
                    <h1>Get CUT529</h1>
                    <p class="download-subtitle">AI-powered protection starts in 30 seconds</p>
                </div>

                <div class="plan-summary">                        <div class="selected-plan" id="selectedPlan">
                        <div class="plan-badge">
                            <i class="fas fa-shield"></i>
                            ESSENTIAL
                        </div>
                        <h3>Get Free Plan</h3>
                        <div class="plan-price-display">$200.00 <span style="font-size:0.6em;opacity:0.8">MXN</span></div>
                        <p class="plan-description">Smart URL blocking and temporary protection mode</p>
                    </div>
                </div>

                <div class="included-features">
                    <h4><i class="fas fa-shield-alt"></i> What you get instantly:</h4>
                    <ul>
                        <li><i class="fas fa-check"></i> Immediate download link</li>
                        <li><i class="fas fa-check"></i> Smart URL blocking (DNS)</li>
                        <li><i class="fas fa-check"></i> Temporary irrevocable mode</li>
                        <li><i class="fas fa-check"></i> Commitment timer</li>
                        <li><i class="fas fa-check"></i> 24/7 email support</li>
                    </ul>
                </div>

                <div class="trust-indicators">
                    <div class="trust-item">
                        <i class="fas fa-lock"></i>
                        <span>256-bit SSL encryption</span>
                    </div>
                    <div class="trust-item">
                        <i class="fas fa-credit-card"></i>
                        <span>Secure payment with Stripe</span>
                    </div>
                    <div class="trust-item">
                        <i class="fas fa-undo"></i>
                        <span>30-day money back guarantee</span>
                    </div>
                </div>
            </div>

            <!-- Right side - Payment form -->
            <div class="payment-form-container">
                <div class="payment-form-header">
                    <h2>Complete your download</h2>
                    <p>One step closer to freedom</p>
                </div>

                <!-- Plan selector -->
                <div class="plan-selector">
                    <div class="plan-option selected" data-plan="basic" data-price="200">
                        <input type="radio" name="plan" id="basic" value="basic" checked>
                        <label for="basic">
                            <div class="plan-option-content">
                                <h4>Get Free Plan</h4>
                                <span class="price">$200 <small style="font-size:0.7em;opacity:0.8">MXN</small></span>
                                <p>Basic protection</p>
                            </div>
                        </label>
                    </div>
                    <div class="plan-option" data-plan="premium" data-price="2000">
                        <input type="radio" name="plan" id="premium" value="premium">
                        <label for="premium">
                            <div class="plan-option-content">
                                <h4>Stay Clean Plan</h4>
                                <span class="price">$2,000 <small style="font-size:0.7em;opacity:0.8">MXN</small></span>
                                <p>Complete protection</p>
                                <span class="coming-soon">Available Dec 14</span>
                                <small style="color:#ff6b6b; font-size:0.8em; display:block; margin-top:5px;">‚ö†Ô∏è Pre-order: Get access now + future features</small>
                            </div>
                        </label>
                    </div>
                    <div class="plan-option" data-plan="enterprise" data-price="20000">
                        <input type="radio" name="plan" id="enterprise" value="enterprise">
                        <label for="enterprise">
                            <div class="plan-option-content">
                                <h4>No Way Back Plan</h4>
                                <span class="price">$20,000 <small style="font-size:0.7em;opacity:0.8">MXN</small></span>
                                <p>Network + therapy</p>
                                <span class="coming-soon">Available Feb 14</span>
                                <small style="color:#ff6b6b; font-size:0.8em; display:block; margin-top:5px;">‚ö†Ô∏è Pre-order: Get access now + future features</small>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Payment form -->
                <form id="payment-form">
                    <div class="form-section">
                        <h3>Region & Currency</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="currency">Choose your currency</label>
                                <select id="currency" name="currency">
                                    <option value="MXN">üá≤üáΩ Mexico (MXN - Pesos)</option>
                                    <option value="USD">üá∫üá∏ United States (USD - Dollars)</option>
                                    <option value="EUR">üá™üá∫ Europe (EUR - Euros)</option>
                                    <option value="GBP">üá¨üáß United Kingdom (GBP - Pounds)</option>
                                    <option value="CAD">üá®üá¶ Canada (CAD - Dollars)</option>
                                    <option value="AUD">üá¶üá∫ Australia (AUD - Dollars)</option>
                                    <option value="BRL">üáßüá∑ Brazil (BRL - Real)</option>
                                    <option value="ARS">üá¶üá∑ Argentina (ARS - Pesos)</option>
                                </select>
                                <small>Prices will be converted automatically</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3>Your information</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">Email address</label>
                                <input type="email" id="email" name="email" required autocomplete="email" inputmode="email" aria-describedby="emailError" pattern="^(?!.*\+)[^\s@]+@[^\s@]+\.[A-Za-z]{2,}$">
                                <small>We'll send your download link here</small>
                                <small id="emailError" class="error-text hidden" role="alert"></small>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="name">Full name</label>
                                <input type="text" id="name" name="name" required>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Payment method</h3>
                        <div id="card-element">
                            <!-- Stripe Elements will create form elements here -->
                        </div>
                        <div id="card-errors" role="alert"></div>
                    </div>

                    <div class="payment-summary" aria-live="polite">
                        <div class="summary-row">
                            <span>CUT529 Premium</span>
                            <span id="summaryPrice">$200.00 <small style="opacity:0.7">MXN</small></span>
                        </div>
                        <div class="summary-row">
                            <span>Secure processing</span>
                            <span>$0.00</span>
                        </div>
                        <div class="summary-row total">
                            <span id="totalLabel">Total today</span>
                            <span id="totalPrice">$200.00 <small style="opacity:0.7">MXN</small></span>
                        </div>
                    </div>

                    <button type="submit" id="submit" class="download-button">
                        <span id="button-text"><i class="fas fa-download"></i> Complete Purchase ‚Äî $200.00 MXN</span>
                        <div id="spinner" class="hidden">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                    </button>

                    <div class="micro-assurance" aria-live="polite">
                        <p id="preorderNote" class="hidden"><i class="fas fa-clock"></i> Pre‚Äëorder: Get Stay Clean Plan today. Remaining features delivered on December 14.</p>
                        <p><i class="fas fa-eye-slash"></i> No hidden fees</p>
                    </div>

                    <div class="payment-footer">
                        <p>
                            <i class="fas fa-shield-alt"></i>
                            Protected by industry-standard encryption. Your payment information is secure.
                        </p>
                        <p class="terms">
                            By continuing, you agree to our 
                            <a href="terms.html" target="_blank">Terms of Service</a> and 
                            <a href="privacy.html" target="_blank">Privacy Policy</a>
                        </p>
                    </div>
                </form>
            </div>
        </div>

        <!-- Success modal -->
        <div id="success-modal" class="modal hidden">
            <div class="modal-content">
                <div class="success-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h2>Download Ready!</h2>
                <p id="modalSubtitle">Check your email for the download link and setup instructions.</p>
                <p id="modalPreorder" class="hidden">Pre‚Äëorder confirmed: You have immediate access to Stay Clean Plan. Remaining features will be delivered on <strong>December 14</strong>.</p>
                <div class="success-actions">
                    <button onclick="window.open('mailto:', '_blank')" class="action-button">
                        <i class="fas fa-envelope"></i>
                        Check Email
                    </button>
                    <button onclick="window.location.href='index.html'" class="action-button secondary">
                        <i class="fas fa-home"></i>
                        Back to Home
                    </button>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Stripe habilitado
        const paymentsEnabled = true;

        // Custom styling for Stripe elements
        const style = {
            base: {
                color: '#fff',
                fontFamily: 'Inter, sans-serif',
                fontSmoothing: 'antialiased',
                fontSize: '16px',
                '::placeholder': {
                    color: '#aab7c4'
                }
            },
            invalid: {
                color: '#fa755a',
                iconColor: '#fa755a'
            }
        };

        // Initialize Stripe
        let stripe, elements, cardElement;

        // Initialize Stripe when page loads
        async function initializeStripe() {
            try {
                console.log('üîÑ Initializing Stripe...');
                
                // Get publishable key from Netlify function
                const response = await fetch('/.netlify/functions/config');
                if (!response.ok) {
                    throw new Error(`Config endpoint failed: ${response.status}`);
                }
                
                const { publishableKey } = await response.json();
                console.log('üîë Received publishable key:', publishableKey ? 'Yes' : 'No');
                
                if (!publishableKey || publishableKey.includes('your_') || publishableKey === '') {
                    throw new Error('Stripe publishable key not configured properly');
                }

                stripe = Stripe(publishableKey);
                elements = stripe.elements();
                
                // Create card element
                cardElement = elements.create('card', { style });
                cardElement.mount('#card-element');

                // Handle real-time validation errors from the card Element
                cardElement.on('change', ({error}) => {
                    const displayError = document.getElementById('card-errors');
                    if (error) {
                        displayError.textContent = error.message;
                    } else {
                        displayError.textContent = '';
                    }
                });

                console.log('‚úÖ Stripe initialized successfully');
            } catch (error) {
                console.error('‚ùå Failed to initialize Stripe:', error);
                document.getElementById('card-errors').textContent = 'Payment system error: ' + error.message;
            }
        }

        // Handle currency change
        document.getElementById('currency').addEventListener('change', async function(e) {
            const newCurrency = e.target.value;
            console.log(`üí± Switching to ${newCurrency}`);
            
            // Show loading state
            document.body.style.cursor = 'wait';
            
            try {
                await loadPricesForCurrency(newCurrency);
                console.log(`‚úÖ Prices updated for ${newCurrency}`);
            } catch (error) {
                console.error('‚ùå Failed to update currency:', error);
                alert('Failed to update currency. Please try again.');
                // Revert to previous selection
                e.target.value = currentCurrency;
            } finally {
                document.body.style.cursor = 'default';
            }
        });

        // Initialize when page loads
        if (paymentsEnabled) {
            initializeStripe();
        }
        
        // Load initial prices and update display
        loadPricesForCurrency('MXN').then(() => {
            // Force update the selected plan display with correct currency
            updateSelectedPlanDisplay('basic', 200);
        });

        // Current currency state
        let currentCurrency = 'MXN';
        let currentPrices = {};

        // Currency formatting helper
        function formatCurrency(value, currency = currentCurrency) {
            const amount = typeof value === 'number' ? value : parseFloat(value);
            if (Number.isNaN(amount)) return '$0.00';
            
            const currencyMap = {
                USD: { locale: 'en-US', currency: 'USD' },
                MXN: { locale: 'es-MX', currency: 'MXN' },
                EUR: { locale: 'de-DE', currency: 'EUR' },
                GBP: { locale: 'en-GB', currency: 'GBP' },
                CAD: { locale: 'en-CA', currency: 'CAD' },
                AUD: { locale: 'en-AU', currency: 'AUD' },
                BRL: { locale: 'pt-BR', currency: 'BRL' },
                ARS: { locale: 'es-AR', currency: 'ARS' }
            };
            
            const config = currencyMap[currency] || currencyMap.USD;
            return new Intl.NumberFormat(config.locale, { 
                style: 'currency', 
                currency: config.currency 
            }).format(amount);
        }

        // Load prices for current currency
        async function loadPricesForCurrency(currency) {
            try {
                const response = await fetch(`/.netlify/functions/prices?currency=${currency}`);
                const data = await response.json();
                currentPrices = data.plans;
                currentCurrency = currency;
                updatePriceDisplay();
                return data;
            } catch (error) {
                console.error('Failed to load prices:', error);
                return null;
            }
        }

        // Update all price displays
        function updatePriceDisplay() {
            // Update plan selector prices
            document.querySelectorAll('.plan-option').forEach(option => {
                const plan = option.dataset.plan;
                if (currentPrices[plan]) {
                    const price = currentPrices[plan].price;
                    option.dataset.price = price;
                    const priceSpan = option.querySelector('.price');
                    if (priceSpan) {
                        priceSpan.innerHTML = `${formatCurrency(price)} <small style="font-size:0.7em;opacity:0.8">${currentCurrency}</small>`;
                    }
                }
            });

            // Update summary prices
            const selectedPlan = document.querySelector('.plan-option.selected');
            if (selectedPlan) {
                const plan = selectedPlan.dataset.plan;
                const price = selectedPlan.dataset.price;
                document.getElementById('summaryPrice').innerHTML = `${formatCurrency(price)} <small style="opacity:0.7">${currentCurrency}</small>`;
                document.getElementById('totalPrice').innerHTML = `${formatCurrency(price)} <small style="opacity:0.7">${currentCurrency}</small>`;
                
                // Update button text
                const buttonText = document.getElementById('button-text');
                const buttonIcon = buttonText.querySelector('i');
                
                if (plan === 'trial') {
                    buttonText.innerHTML = `<i class="fas fa-gift"></i> Start FREE Trial ‚Äî ${formatCurrency(price)}`;
                } else if (plan === 'enterprise') {
                    buttonText.innerHTML = `<i class="fas fa-download"></i> Pre order now ‚Äî ${formatCurrency(price)}`;
                } else {
                    buttonText.innerHTML = `<i class="fas fa-download"></i> Complete Purchase ‚Äî ${formatCurrency(price)}`;
                }
            }
        }

        // Common disposable/temporary email domains
        const disposableEmailDomains = new Set([
            'mailinator.com', 'tempmail.com', 'yopmail.com', '10minutemail.com', 'guerrillamail.com',
            'trashmail.com', 'throwawaymail.com', 'sharklasers.com', 'getnada.com', 'dispostable.com',
            'maildrop.cc', 'moakt.com', 'mailnesia.com', 'temp-mail.org', 'fakeinbox.com', 'mintemail.com',
            'mailcatch.com', 'spambog.com', 'spambog.ru', 'spambox.us', 'spamgourmet.com'
        ]);

        function isDisposableDomain(domain) {
            if (!domain) return false;
            const lower = domain.toLowerCase();
            for (const d of disposableEmailDomains) {
                if (lower === d || lower.endsWith('.' + d)) return true;
            }
            return false;
        }

        // Email validation helper (no plus addressing, general shape, no leading/trailing dots, valid TLD)
        function getEmailError(value) {
            if (!value) return '';
            if (value.includes('+')) return 'Plus addressing (+) is not allowed.';
            const emailPattern = /^[^\s@]+@[^\s@]+\.[A-Za-z]{2,}$/;
            if (!emailPattern.test(value)) return 'Enter a valid email address.';
            const [local, domain] = value.split('@');
            if (!local || !domain) return 'Enter a valid email address.';
            if (local.startsWith('.') || local.endsWith('.')) return 'Enter a valid email address.';
            if (domain.startsWith('-') || domain.endsWith('-')) return 'Enter a valid email address.';
            if (domain.includes('..')) return 'Enter a valid email address.';
            if (isDisposableDomain(domain)) return 'Disposable email domains are not allowed.';
            return '';
        }

        // Handle plan selection
        document.querySelectorAll('.plan-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.plan-option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                this.querySelector('input').checked = true;
                
                const price = this.dataset.price;
                const plan = this.dataset.plan;
                
                // Update UI
                document.getElementById('summaryPrice').innerHTML = `${formatCurrency(price)} <small style="opacity:0.7">${currentCurrency}</small>`;
                document.getElementById('totalPrice').innerHTML = `${formatCurrency(price)} <small style="opacity:0.7">${currentCurrency}</small>`;
                
                // Update button text and icon based on plan
                const buttonText = document.getElementById('button-text');
                const buttonIcon = buttonText.querySelector('i');
                
                if (plan === 'trial') {
                    buttonIcon.className = 'fas fa-gift';
                    buttonText.innerHTML = `<i class=\"fas fa-gift\"></i> Start FREE Trial ‚Äî ${formatCurrency(price)}`;
                    document.getElementById('totalLabel').textContent = 'Total today';
                    document.getElementById('preorderNote').classList.add('hidden');
                    document.getElementById('modalPreorder').classList.add('hidden');
                    document.getElementById('modalSubtitle').textContent = 'Check your email for the download link and setup instructions.';
                } else if (plan === 'premium') {
                    buttonIcon.className = 'fas fa-download';
                    buttonText.innerHTML = `<i class=\"fas fa-download\"></i> Pre-order now ‚Äî ${formatCurrency(price)}`;
                    document.getElementById('totalLabel').textContent = 'Pre-order total today';
                    document.getElementById('preorderNote').classList.remove('hidden');
                    document.getElementById('modalPreorder').classList.remove('hidden');
                    document.getElementById('modalSubtitle').textContent = 'Pre‚Äëorder confirmed. Check your email for immediate access to Get Free Plan.';
                } else if (plan === 'enterprise') {
                    buttonIcon.className = 'fas fa-download';
                    buttonText.innerHTML = `<i class=\"fas fa-download\"></i> Pre order now ‚Äî ${formatCurrency(price)}`;
                    document.getElementById('totalLabel').textContent = 'Pre-order total today';
                    document.getElementById('preorderNote').classList.remove('hidden');
                    document.getElementById('modalPreorder').classList.remove('hidden');
                    document.getElementById('modalSubtitle').textContent = 'Pre‚Äëorder confirmed. Check your email for access to Stay Clean Plan.';
                } else {
                    buttonIcon.className = 'fas fa-download';
                    buttonText.innerHTML = `<i class=\"fas fa-download\"></i> Complete Purchase ‚Äî ${formatCurrency(price)}`;
                    document.getElementById('totalLabel').textContent = 'Total today';
                    document.getElementById('preorderNote').classList.add('hidden');
                    document.getElementById('modalPreorder').classList.add('hidden');
                    document.getElementById('modalSubtitle').textContent = 'Check your email for the download link and setup instructions.';
                }
                
                // Update selected plan display
                updateSelectedPlanDisplay(plan, price);
            });
        });

        function updateSelectedPlanDisplay(plan, price) {
            const plans = {
                trial: {
                    name: '7-Day Free Trial',
                    description: 'Full premium features, 7 days completely free',
                    badge: 'FREE TRIAL',
                    icon: 'fas fa-gift'
                },
                basic: {
                    name: 'Get Free Plan',
                    description: 'Smart URL blocking with commitment timer',
                    badge: 'ESSENTIAL',
                    icon: 'fas fa-shield'
                },
                premium: {
                    name: 'Stay Clean Plan',
                    description: 'Complete protection with visual AI analysis (Available Dec 14)',
                    badge: 'PRE-ORDER',
                    icon: 'fas fa-star'
                },
                enterprise: {
                    name: 'No Way Back Plan',
                    description: 'Complete solution with therapy sessions (Available Feb 14)',
                    badge: 'PRE-ORDER',
                    icon: 'fas fa-crown'
                }
            };

            const selectedPlan = document.getElementById('selectedPlan');
            const planData = plans[plan];
            
            selectedPlan.innerHTML = `
                <div class="plan-badge">

                    ${planData.badge}
                </div>
                <h3>${planData.name}</h3>
                <div class="plan-price-display">${formatCurrency(price)} <span style="font-size:0.6em;opacity:0.8">${currentCurrency}</span></div>
                <p class="plan-description">${planData.description}</p>
            `;
        }

        // Handle form submission
        const form = document.getElementById('payment-form');
        const emailInput = document.getElementById('email');
        const emailError = document.getElementById('emailError');

        function showEmailError(message) {
            emailError.textContent = message;
            emailError.classList.remove('hidden');
            emailInput.setAttribute('aria-invalid', 'true');
        }

        function clearEmailError() {
            emailError.textContent = '';
            emailError.classList.add('hidden');
            emailInput.removeAttribute('aria-invalid');
        }

        // Validate on blur (not on every keystroke) to avoid noisy UX
        emailInput.addEventListener('blur', () => {
            const value = emailInput.value.trim();
            const error = getEmailError(value);
            if (error) {
                showEmailError(error);
            } else {
                clearEmailError();
            }
        });

        form.addEventListener('submit', async (event) => {
            event.preventDefault();
            
            // Validate email first
            const value = emailInput.value.trim();
            const error = getEmailError(value);
            if (error) {
                showEmailError(error);
                emailInput.focus();
                return;
            }

            if (!paymentsEnabled || !stripe || !cardElement) {
                document.getElementById('card-errors').textContent = 'Payment system is not available.';
                return;
            }

            const plan = document.querySelector('input[name="plan"]:checked').value;
            
            // Handle free trial differently
            if (plan === 'trial') {
                handleFreeTrial();
                return;
            }

            // Show loading state
            const button = document.getElementById('submit');
            const buttonText = document.getElementById('button-text');
            const spinner = document.getElementById('spinner');
            
            button.disabled = true;
            buttonText.classList.add('hidden');
            spinner.classList.remove('hidden');

            try {
                // Create payment intent with selected currency
                const response = await fetch('/.netlify/functions/create-payment-intent', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 
                        plan: plan,
                        currency: currentCurrency 
                    }),
                });

                const { clientSecret, amount, plan: planConfig } = await response.json();

                // Confirm payment with Stripe
                const result = await stripe.confirmCardPayment(clientSecret, {
                    payment_method: {
                        card: cardElement,
                        billing_details: {
                            name: document.getElementById('name').value,
                            email: document.getElementById('email').value,
                        }
                    }
                });

                if (result.error) {
                    // Show error to customer
                    document.getElementById('card-errors').textContent = result.error.message;
                } else {
                    // Payment succeeded
                    console.log('‚úÖ Payment successful:', result.paymentIntent);
                    document.getElementById('success-modal').classList.remove('hidden');
                }
            } catch (error) {
                console.error('‚ùå Payment error:', error);
                document.getElementById('card-errors').textContent = 'Payment failed. Please try again.';
            } finally {
                // Reset loading state
                button.disabled = false;
                buttonText.classList.remove('hidden');
                spinner.classList.add('hidden');
            }
        });

        function handleFreeTrial() {
            // For free trial, just show success modal without payment
            console.log('üéÅ Free trial activated');
            document.getElementById('success-modal').classList.remove('hidden');
            
            // You could also send trial signup to your backend here
            const email = document.getElementById('email').value;
            const name = document.getElementById('name').value;
            
            fetch('/.netlify/functions/start-trial', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email, name })
            }).catch(console.error);
        }

        function submitFormWithToken(token) {
            // Show loading state
            const button = document.getElementById('submit');
            const buttonText = document.getElementById('button-text');
            const spinner = document.getElementById('spinner');
            
            button.disabled = true;
            buttonText.classList.add('hidden');
            spinner.classList.remove('hidden');

            // Get form data
            const formData = {
                token: token.id,
                email: document.getElementById('email').value,
                name: document.getElementById('name').value,
                plan: document.querySelector('input[name="plan"]:checked').value,
                amount: document.querySelector('.plan-option.selected').dataset.price
            };

            // This function is now deprecated - using the new payment flow above
        }

        // Close modal when clicking outside
        document.getElementById('success-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });
    </script>
</body>

</html> 